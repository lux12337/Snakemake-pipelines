Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	1	bcftools_call
	1	bwa_map
	1	plot_quals
	2	samtools_index
	2	samtools_sort
	8

[Tue Dec 25 13:36:59 2018]
rule bwa_map:
    input: data/genome.fa, data/samples/B.fastq
    output: mapped_reads/B.bam
    jobid: 8
    wildcards: sample=B

[Tue Dec 25 13:37:00 2018]
Finished job 8.
1 of 8 steps (12%) done

[Tue Dec 25 13:37:00 2018]
rule samtools_sort:
    input: mapped_reads/B.bam
    output: sorted_reads/B.bam
    jobid: 5
    wildcards: sample=B

[Tue Dec 25 13:37:00 2018]
Error in rule samtools_sort:
    jobid: 5
    output: sorted_reads/B.bam

RuleException:
CalledProcessError in line 23 of /Users/luigi/Desktop/snakemake-tutorial/Snakefile:
Command ' set -euo pipefail;  samtools sort -T sorted_reads/B -0 bam mapped_reads/B.bam > sorted_reads/B.bam ' returned non-zero exit status 1.
  File "/Users/luigi/Desktop/snakemake-tutorial/Snakefile", line 23, in __rule_samtools_sort
  File "/Users/luigi/miniconda3/envs/snakemake-tutorial/lib/python3.6/concurrent/futures/thread.py", line 56, in run
Removing output files of failed job samtools_sort since they might be corrupted:
sorted_reads/B.bam
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /Users/luigi/Desktop/snakemake-tutorial/.snakemake/log/2018-12-25T133659.233168.snakemake.log
